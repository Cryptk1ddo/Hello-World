<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Calendar View</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Loading overlay -->
    <div class="loading-overlay">
        <div class="loading-spinner"></div>
    </div>

    <div class="app-container">
        <div class="calendar">
            <div class="calendar-header">
                <button class="nav-btn" id="prevMonth">&lt;</button>
                <h2 id="monthYear">September 2023</h2>
                <button class="nav-btn" id="nextMonth">&gt;</button>
            </div>
            <div class="weekdays">
                <div>Sun</div>
                <div>Mon</div>
                <div>Tue</div>
                <div>Wed</div>
                <div>Thu</div>
                <div>Fri</div>
                <div>Sat</div>
            </div>
            <div class="days" id="daysGrid">
                <!-- Days will be populated by JavaScript -->
            </div>
        </div>

        <div class="pomodoro-container">
            <div class="timer-display">
                <span id="minutes">25</span>:<span id="seconds">00</span>
            </div>
            <div class="timer-controls">
                <button class="timer-btn" id="startTimer">Start</button>
                <button class="timer-btn" id="pauseTimer">Pause</button>
                <button class="timer-btn" id="resetTimer">Reset</button>
            </div>
            <div class="session-settings">
                <div class="setting">
                    <label for="workTime">Work (min)</label>
                    <input type="number" id="workTime" value="25" min="1" max="60">
                </div>
                <div class="setting">
                    <label for="breakTime">Break (min)</label>
                    <input type="number" id="breakTime" value="5" min="1" max="30">
                </div>
            </div>
        </div>
    </div>

    <script src="js/telegramUtils.js"></script>
    <script src="js/models.js"></script>
    <script src="js/dataManager.js"></script>
    <script src="js/calendarManager.js"></script>
    <script src="js/eventManager.js"></script>
    <script src="js/pomodoro.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Telegram utilities
            const telegram = new TelegramUtils();

            // Initialize app components
            const dataManager = new DataManager();
            const calendarManager = new CalendarManager(dataManager);
            const pomodoroTimer = new PomodoroTimer(dataManager);

            // Remove loading overlay
            document.querySelector('.loading-overlay').remove();
        });
    </script>
</body>
</html> 
